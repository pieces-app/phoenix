![](https://uploads-ssl.webflow.com/6143afec68f555387049efb3/63dd768523db6fed3625372f_structsandenums_b3de2671ec656a30c861fcc754d0407c_2000.jpeg)
"structs; enums"
# Understanding Structs and Enums in Solidity
> Wed Apr 05 2023 16:53:15 GMT+0000 (Coordinated Universal Time)
<p>Structs allow you to create custom data types in Solidity. A variable declared to be a <code>struct</code> can have multiple data types in it.<p.new.line><p>Enums (Enumerables)<strong> </strong>are user-defined data types that restrict a variable to have only one predefined value from a set of multiple predefined values. Enums are assigned integer values starting from zero to the value of the last index.<p.new.line><p>In this article, I will explain how structs and enums work and how to use them.<p.new.line><h2 id="1pta8">Getting Started<h2.new.line><p>It will be best if you code along with me in order to best understand the material. Visit <u><a href="http://remix.ethereum.org/" target="_blank" rel="noopener noreferrer">remix.ethereum.org</a></u>— This online IDE is an excellent and easy-to-use environment for beginners. Go to the File Explorer tab, click on contracts and create a new file with your preferred name and “.sol” at the end. I will be using “StructsAndEnums.sol” as my file name:<p.new.line><figure class="w-richtext-figure-type-image w-richtext-align-center" data-rt-type="image" data-rt-align="center"><div><img alt="The file setup for this project." src="https://uploads-ssl.webflow.com/6143afec68f555387049efb3/636294a6a13967fa8c78ffc1_image5_040877e0f7ef5e5472a07447ff944027_800.png"><div.new.line><figure.new.line><p>Now in the file, start by specifying the license identifier. License identifiers indicate relevant license information at any level from the package to the source code file level. Make sure you make it a comment:<p.new.line><pre>// SPDX-License-Identifier: Unlicense</pre><p>Specify the solidity compiler version you want to use:<p.new.line><pre>pragma solidity 0.8.0;</pre><p>Finally, create a contract by using the “contract” keyword and the name you wish to assign to the smart contract:<p.new.line><pre>contract StructsAndEnums{<br>}</pre><p>This empty contract <code>StructsAndEnums</code> is already a valid contract and is deployable to any blockchain. Go to the Solidity Compiler tab, change the compiler version to the version you are working with and click compile. Once the compilation is successful, you should see a green checkmark by the side of the compiler icon:<p.new.line><figure class="w-richtext-figure-type-image w-richtext-align-center" data-rt-type="image" data-rt-align="center"><div><img alt="The Solidity compiler tab." src="https://uploads-ssl.webflow.com/6143afec68f555387049efb3/636294a7a13967efe278ffcb_image13_13fa5f71fc800c592b94fbd963046f27_800.png"><div.new.line><figure.new.line><p>Awesome! Now we can write all of our smart contract code into StructsAndEnums.<p.new.line><h3 id="7utfg">Variable types in Solidity<h3.new.line><p>Solidity has six main variable types. They are:<p.new.line><ol type="1"><li>Strings - represented as <strong>string</strong>.<li.new.line><li>Signed integers - represented as <strong>int</strong>.<li.new.line><li>Unsigned integers - represented as <strong>uint</strong>.<li.new.line><li>Booleans - represented as <strong>bool</strong>.<li.new.line><li>Addresses - represented as <strong>address</strong>.<li.new.line><li>Bytes - represented as <strong>bytes</strong>.<li.new.line></ol><h2 id="5gika">How to declare a Struct<h2.new.line><p>To declare a struct, start off by typing the struct keyword along with the name you wish to assign to the struct. Inside the struct, list out the different data types you want the struct to have. In the code snippet below, I have a struct named “Shipment” with some variable names and types in it:<p.new.line><pre>struct Shipment {<br>    string package;<br>    string state;<br>    address sender;<br>    address receiver;<br>    uint price;<br> bool delivered;<br>}</pre><h3 id="23n8k">Creating Struct variables<h3.new.line><p>To create a struct variable, type in the name of the struct followed by the name of your variable. You will need to parse the values of the different data types of the struct into the variable. One way of doing this is by assigning the values according to the order of the data type in the struct like so:<p.new.line><pre>Shipment purchase = Shipment(&quot;Flash Drive&quot;, &quot;Texas&quot;, 0x5B38Da6a701c568545dCfcB03FcB875f56beddC4, 0x78731D3Ca6b7E34aC0F824c42a7cC18A495cabaB, 20, true);</pre><p>Another way is by assigning the values in any order with the key of the variable and the value:<p.new.line><pre>Shipment purchase = Shipment({price: 20, sender:0x5B38Da6a701c568545dCfcB03FcB875f56beddC4, package: &quot;Flash Drive&quot;, delivered: true, receiver:0x78731D3Ca6b7E34aC0F824c42a7cC18A495cabaB});</pre><p>To see the variable, we have to assign it to the public keyword:<p.new.line><pre>Shipment public purchase = Shipment(&quot;Flash Drive&quot;, &quot;Texas&quot;, 0x5B38Da6a701c568545dCfcB03FcB875f56beddC4, 0x78731D3Ca6b7E34aC0F824c42a7cC18A495cabaB, 20, true);</pre><p>Let’s try and look into the variables stored in this struct variable called purchase. First, we have to deploy the contract. We will deploy to the remix virtual machine, a simulation used for tests by developers and not a live blockchain network. With any new changes we add to the smart contract, we will be deploying new contracts and deleting previous ones to see the changes. By nature, smart contracts are immutable and can never be edited after deployment. Go to the Deploy &amp; run transactions tab at the bottom and click deploy.<p.new.line><figure class="w-richtext-figure-type-image w-richtext-align-center" data-rt-type="image" data-rt-align="center"><div><img alt="The Deploy and Run Transactions tab." src="https://uploads-ssl.webflow.com/6143afec68f555387049efb3/636294a7a139673e8a790118_image10_12ed4db3cd0143e3931cb1177c2202e3_800.png"><div.new.line><figure.new.line><p>After a successful deployment, at the bottom, you will find a Deployed Contracts section which holds the contract you just deployed. When you click on the dropdown, you will find the public variable called purchase we created earlier in our code. Click on the purchase button. Remix will return the variables stored in the purchase struct variable. Here’s what the output will look like:<p.new.line><figure class="w-richtext-figure-type-image w-richtext-align-center" data-rt-type="image" data-rt-align="center"><div><img alt="The output of a deployed contract." src="https://uploads-ssl.webflow.com/6143afec68f555387049efb3/636294a7a13967ce4579000b_image2_b53c4589f4fc8ef5e318aceac4e00e56_800.png"><div.new.line><figure.new.line><h3 id="5fv01">Updating Struct variables<h3.new.line><p>So we’ve created a struct and a struct variable, but what if we wanted to change certain things in that variable? What if we wanted to change the values inside the <code>purchase</code> variable from outside the contract? Let’s create a function that does just that.<p.new.line><p>Let’s name the function <code>update</code> and make it public. This function will take all of the variables needed by the struct variable. Variable types such as strings and bytes are stored in data locations. The keyword <code>memory</code> tells Solidity to temporarily store the input data of the string variable while a function is being called.<p.new.line><pre>function update (string memory _package, string memory _state, <br>    address _sender, address _receiver, uint _price, bool _delivered) public{<br>        purchase = Shipment(_package, _state, _sender, _receiver, _price, _delivered);<br>}</pre><p>Once we compile and deploy this code, we should be able to see two buttons in the Deployed Contracts section. One of which is the <code>purchase</code> struct variable and the <code>update</code> function. If we click on purchase, we will see the variables from earlier:<p.new.line><figure class="w-richtext-figure-type-image w-richtext-align-center" data-rt-type="image" data-rt-align="center"><div><img alt="The ability to update or purchase a deployed contract." src="https://uploads-ssl.webflow.com/6143afec68f555387049efb3/636294a7a13967096d79000c_image3_a6e98f7cfb5649cfa3506d688b31e901_800.png"><div.new.line><figure.new.line><p>We&#x27;ll try and change these values. So by the right of the <code>update</code> button, click on the dropdown icon, fill in your preferred values and click on transact:<p.new.line><figure class="w-richtext-figure-type-image w-richtext-align-center" data-rt-type="image" data-rt-align="center"><div><img alt="Updating a contract." src="https://uploads-ssl.webflow.com/6143afec68f555387049efb3/636294a7a13967fc5d790035_image6_0158c0e00424cac9efe8f6ccc550c18c_800.png"><div.new.line><figure.new.line><p>And, once we click on purchase again:<p.new.line><figure class="w-richtext-figure-type-image w-richtext-align-center" data-rt-type="image" data-rt-align="center"><div><img alt="Purchasing a contract." src="https://uploads-ssl.webflow.com/6143afec68f555387049efb3/636294a6a139673d3278ff98_image12_57ab2071993b1fdc3e477b411131b010_800.png"><div.new.line><figure.new.line><p>Sweet! We were able to change the values in <code>purchase</code> successfully.<p.new.line><h2 id="3d1kn">How to declare an Enum<h2.new.line><p>To declare an enum, type in the enum keyword before the name you wish to assign to the enum. Enums are somewhat similar to booleans. The only difference between them is that booleans can only have two choices which are “0” (false) and “1” (true), while enums can have more than two choices. Let us see an example of an enum with four choices:<p.new.line><pre>enum Status {<br>    None,<br>    Pending,<br>    Shipped,<br>    Received<br>}</pre><h3 id="296ha">Creating Enum variables<h3.new.line><p>To assign a variable to an enum, similarly to what we did earlier with structs, we have the name of the enum in front of the variable and declare it public for us to see its value:<p.new.line><pre>Status public orderStatus;</pre><p>And when we compile and deploy this:<p.new.line><figure class="w-richtext-figure-type-image w-richtext-align-center" data-rt-type="image" data-rt-align="center"><div><img alt="The order status of a contract." src="https://uploads-ssl.webflow.com/6143afec68f555387049efb3/636294a6a13967455c78ffc0_image11_ca0b746f1c9a878e4215f85a0a75ed27_800.png"><div.new.line><figure.new.line><p>We get a value of 0 which is the first choice assigned to the enum (None). Enums always use the first case as the default. We could have also given a different choice to <code>orderStatus</code> and it would be assigned that value.<p.new.line><h3 id="3ivob">Updating Enum variables<h3.new.line><p>Let us use a function similar to the one we created for structs. The function will be called <code>change</code> and will take in a single parameter of type uint:<p.new.line><pre>function change(uint value) public {<br>  orderStatus = Status(value);<br>}</pre><p>And once we compile and deploy this:<p.new.line><figure class="w-richtext-figure-type-image w-richtext-align-center" data-rt-type="image" data-rt-align="center"><div><img alt="Updating an order status." src="https://uploads-ssl.webflow.com/6143afec68f555387049efb3/636294a7a13967e28b79000a_image4_8dca2ae9ad292a09e2d035558d57e12d_800.png"><div.new.line><figure.new.line><p>The value of <code>orderStatus</code> is now at the third index (2) which is &quot;Shipped&quot;.<p.new.line><h2 id="5gc5c">Using an Enum in a Struct<h2.new.line><p>Since a struct is a compilation of different data types, it can also take in enums. Let us replace the boolean variable called <code>delivered</code> with an enum:<p.new.line><pre>struct Shipment {<br>  string package;<br>  string state;<br>  address sender;<br>  address receiver;<br>  uint price;<br>  Status delivered;<br>}</pre><p>Before compiling, let us make a few changes. Back in our <code>purchase</code> variable, change:<p.new.line><pre>Shipment public purchase = Shipment(&quot;Flash Drive&quot;, &quot;Texas&quot;, 0x5B38Da6a701c568545dCfcB03FcB875f56beddC4, 0x78731D3Ca6b7E34aC0F824c42a7cC18A495cabaB, 20, true);</pre><p>To this:<p.new.line><pre>Shipment public purchase = Shipment(&quot;Flash Drive&quot;, &quot;Texas&quot;,0x5B38Da6a701c568545dCfcB03FcB875f56beddC4, 0x78731D3Ca6b7E34aC0F824c42a7cC18A495cabaB, 20, Status(0));</pre><p>Do the same for the update function. Change this:<p.new.line><pre>function update(string memory _package, string memory _state, <br>address _sender, address _receiver, uint _price, bool _delivered) public{<br>    purchase = Shipment(_package, _state, _sender, _receiver, _price, _delivered);<br>}</pre><p>To this:<p.new.line><pre>function update(string memory _package, string memory _state, <br>address _sender, address _receiver, uint _price, Status _delivered) public{<br>    purchase = Shipment(_package, _state, _sender, _receiver, _price, _delivered);<br>}</pre><p>Now compile and deploy the contract. To input the value for the enum data type when calling the <code>update</code> function, type in the uint value for the choice you wish to use. For example, if we want the choice to be “Pending”, our input value has to be 1.<p.new.line><h3 id="erlm6">Storing Structs and Enums in a mapping<h3.new.line><p>Mappings act like hash tables or dictionaries in other languages. We can use a mapping to store multiple data on the blockchain with a key. Mappings are more precise and also more efficient than arrays. We will keep the enum Status in the <code>Shipment</code> struct like we did previously but will be storing the struct in a mapping called <code>getPurchase</code>. The key for the mapping will be the address of the sender and the value will be the data from the current Shipment struct tied to that address. To declare a mapping, type in the mapping keyword along with the key and value of the mapping in brackets and a name for the mapping at the end:<p.new.line><pre>mapping(address =&gt; Shipment) public getPurchase;</pre><p>In the <code>update</code> function, we will take in new struct variables as well as new changes made to existing struct variables and store them in the mapping. Let’s make the sender the actual sender of the transaction by changing <code>_sender</code> to the <code>msg.sender</code> keyword. After doing this, we will no longer need <code>address _sender</code> as a parameter in the function:<p.new.line><pre>function update(string memory _package, string memory _state, address _receiver, uint _price, Status _delivered) public{<br>  purchase = Shipment(_package, _state, msg.sender, _receiver, _price, _delivered);<br>  getPurchase[msg.sender] = purchase;<br>}</pre><p>After we compile and deploy, let’s input new values to the <code>update</code> function:<p.new.line><figure class="w-richtext-figure-type-image w-richtext-align-center" data-rt-type="image" data-rt-align="center"><div><img alt="Updating structs and enums." src="https://uploads-ssl.webflow.com/6143afec68f555387049efb3/636294a6a13967a73078ffc2_image9_4a715745d947f68f8f0f385e1f3e22c3_800.png"><div.new.line><figure.new.line><p>Let’s look for the sender data in the <code>getPurchase</code> mapping by inputting the address of <code>msg.sender</code> as the key. To get your address, scroll to the top of the “Deploy &amp; Run Transactions” tab, and you will see a list of virtual addresses created by remix:<p.new.line><figure class="w-richtext-figure-type-image w-richtext-align-center" data-rt-type="image" data-rt-align="center"><div><img alt="Finding your virtual address." src="https://uploads-ssl.webflow.com/6143afec68f555387049efb3/636294a7a139671243790034_image1_8689df5f3777adaef4637aad24e60c26_800.png"><div.new.line><figure.new.line><p>Copy the first address used to make the transaction and input that address to the <code>getPurchase</code> mapping:<p.new.line><figure class="w-richtext-figure-type-image w-richtext-align-center" data-rt-type="image" data-rt-align="center"><div><img alt="Using the above address to create a purchase." src="https://uploads-ssl.webflow.com/6143afec68f555387049efb3/636294a7a13967d09179000d_image8_f47c0ef182b7c25fd33396cf452608c5_800.png"><div.new.line><figure.new.line><p>Great! All new and existing sender addresses that interact with the <code>update</code> function will also have their struct and enum data stored or updated in the mapping. To test this further, you can try switching to multiple account addresses at the top, interacting with the <code>update</code> function from each and inputting those addresses as the key to the mapping.<p.new.line><h2 id="bl8pa">Conclusion<h2.new.line><p>Structs and enums reduce complexity and make it easier for other developers to read and understand your code. Whenever you receive an error from your compiler that says, “Stack too deep. Try removing local variables,” it means that you’ve created too many local variables inside of a single function. Using a struct to store these local variables lets you get past that error. Using structs and enums is also great fo
